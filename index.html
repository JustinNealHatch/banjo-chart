<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Banjo Open G - Notes by Fret (Hide on Click + Tooltips)</title>
<style>
  :root { --even:#e8f4ff; --open12:#fff6a5; } /* I'm giving you a CSS root selector containing two custom colors to reuse to shade even frets and highlight open and 12th frets */
  body { font-family: system-ui, -apple-system, Segoe UI, Arial, sans-serif; padding: 16px; } /* I'm giving you a body rule containing font and padding to set basic page layout */
  .wrap { overflow-x: auto; } /* I'm giving you a wrapper containing horizontal scroll to handle the wide table */
  table { border-collapse: collapse; margin-top: 8px; } /* I'm giving you a table rule containing collapse and margin to make borders clean */
  th, td { border: 1px solid #555; padding: 6px 10px; text-align: center; white-space: nowrap; } /* I'm giving you cell styles containing borders and spacing to keep content readable */
  th.sticky { position: sticky; left: 0; background: #fff; z-index: 2; } /* I'm giving you a sticky header rule containing fixed positioning to keep string labels visible while scrolling */
  tr > th.rowlbl { background: #fff; font-weight: 600; } /* I'm giving you a row-label rule containing emphasis to distinguish string names */
  td.even { background: var(--even); } /* I'm giving you a class containing the even-fret color to visually band the table */
  td.open12 { background: var(--open12); } /* I'm giving you a class containing the open and 12th fret color to mark landmarks */
  td.hidden-note { color: transparent; } /* I'm giving you a class containing transparent text to hide a note without changing layout */
  td.hidden-note::after { content: ""; } /* I'm giving you a pseudo-element containing no content to avoid showing replacement text */
  td { cursor: pointer; user-select: none; } /* I'm giving you a td rule containing pointer cursor and no-select to make clicks feel like buttons */
  caption { text-align: left; font-weight: 700; } /* I'm giving you a caption rule containing alignment and weight to name the chart */
  .controls { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; } /* I'm giving you a controls bar containing layout rules to align the button and help text */
  button { padding: 6px 10px; border: 1px solid #444; background: #f7f7f7; cursor: pointer; } /* I'm giving you a button rule containing padding and border to make an obvious control */
  button:hover { background: #eee; } /* I'm giving you a hover rule containing a lighter shade to provide feedback */
</style>
</head>
<body>
  <div class="controls">
    <button id="reset">Show all notes</button> <!-- I'm giving you a button containing a reset action to restore any hidden cells -->
    <span>Left click any cell to hide or show that note. Hover to see String • Fret • Note.</span> <!-- I'm giving you a span containing usage guidance to explain click and hover behavior -->
  </div>

  <div class="wrap">
    <table id="banjo">
      <caption>Banjo Open G - Notes by Fret (5th string on bottom)</caption>
    </table>
  </div>

<script>
  const NOTES = ["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]; /* I'm giving you an array containing the 12-note chromatic set to compute note names */
  const idx = Object.fromEntries(NOTES.map((n,i)=>[n,i])); /* I'm giving you an object containing name-to-index pairs to support constant-time lookups */
  const noteAfter = (start, semis) => NOTES[(idx[start] + semis) % 12]; /* I'm giving you a function containing a start note and semitone distance to produce a wrapped chromatic result */

  /* ORDER FIX: top to bottom here will render bottom to top as: 5th g, G, D, B, D */
  const rows = [ /* I'm giving you an array containing per-string descriptors to drive row construction */
    { label: "D", start: "D", short5: false },   // I'm giving you an object containing label and base pitch to compute 1st-string notes
    { label: "B", start: "B", short5: false },   // I'm giving you an object containing label and base pitch to compute 2nd-string notes
    { label: "G", start: "G", short5: false },   // I'm giving you an object containing label and base pitch to compute 3rd-string notes
    { label: "D", start: "D", short5: false },   // I'm giving you an object containing label and base pitch to compute 4th-string notes
    { label: "5th g (short)", start: "G", short5: true } // I'm giving you an object containing label and a short-string flag to blank frets 0 to 4 on the 5th string
  ];

  const FRETS = Array.from({length: 23}, (_,i)=>i); /* I'm giving you an array containing integers 0 through 22 to define fret columns */
  const tbl = document.getElementById("banjo"); /* I'm giving you a DOM reference containing the target table to inject header and body */

  const thead = document.createElement("thead"); /* I'm giving you a thead element containing the header row to label fret numbers */
  const hr = document.createElement("tr"); /* I'm giving you a tr element containing header cells to align with body columns */
  const emptyTh = document.createElement("th"); /* I'm giving you an empty corner cell containing no text to align row labels under the header */
  emptyTh.className = "sticky rowlbl"; /* I'm giving you a class assignment containing sticky styling to keep the corner locked on scroll */
  emptyTh.textContent = ""; /* I'm giving you an empty string containing nothing to intentionally leave the corner blank */
  hr.appendChild(emptyTh); /* I'm giving you an append operation containing the empty corner to finish the header start */

  FRETS.forEach(function(f){ /* I'm giving you a forEach callback containing each fret index to build its header cell; the callback works by iterating the array and appending one th per fret to the header row */
    const th = document.createElement("th"); /* I'm giving you a header cell containing text to identify the fret number */
    th.textContent = String(f); /* I'm giving you a string containing the fret index to display */
    hr.appendChild(th); /* I'm giving you an append operation containing the prepared header cell to place it in the row */
  });

  thead.appendChild(hr); /* I'm giving you an append operation containing the complete header row to attach into the thead */
  tbl.appendChild(thead); /* I'm giving you an append operation containing the thead to mount it into the table */

  const tbody = document.createElement("tbody"); /* I'm giving you a tbody element containing all generated string rows to display notes */

  rows.forEach(function(row){ /* I'm giving you a forEach callback containing each string definition to produce a table row; the callback works by creating a tr, filling it with a label and fret cells, then attaching it to tbody */
    const tr = document.createElement("tr"); /* I'm giving you a row element containing cells that represent this string */
    const rl = document.createElement("th"); /* I'm giving you a row-label header cell containing the string name for orientation */
    rl.textContent = row.label; /* I'm giving you a text node containing the string label to show in the sticky column */
    rl.className = "sticky rowlbl"; /* I'm giving you a class assignment containing sticky styling to keep the label visible while scrolling */
    tr.appendChild(rl); /* I'm giving you an append operation containing the label cell to add it as the first cell in the row */

    FRETS.forEach(function(f){ /* I'm giving you a forEach callback containing each fret index to create a playable cell; the callback works by computing the correct note, coloring the cell, adding tooltip text, and wiring the click handler */
      const td = document.createElement("td"); /* I'm giving you a data cell containing the note text and click or hover affordances */

      if (f === 0 || f === 12) { td.classList.add("open12"); } /* I'm giving you a conditional containing a landmark check to color open and 12th frets */
      else if (f % 2 === 0) { td.classList.add("even"); } /* I'm giving you a conditional containing an even-fret check to add banded shading */

      let text = ""; /* I'm giving you a variable containing default empty content to start note assignment */
      if (row.short5) { /* I'm giving you a conditional containing the short-string rule to treat the 5th string specially */
        if (f >= 5) { text = noteAfter("G", f - 5); } /* I'm giving you a computation containing a G base and (f minus 5) semitones to determine the 5th-string note */
      } else {
        text = noteAfter(row.start, f); /* I'm giving you a computation containing the string base pitch and fret offset to determine the long-string note */
      }

      td.textContent = text; /* I'm giving you a text assignment containing the computed note name to display in the cell */
      td.title = row.label + " • fret " + f + (text ? " • " + text : ""); /* I'm giving you a title attribute containing string, fret, and note to show as a native tooltip on hover */

      td.addEventListener("click", function(){ /* I'm giving you an event listener containing the left-click toggle to hide or show the note; the callback works by toggling a CSS class on the clicked cell when it contains text */
        if (td.textContent !== "") { td.classList.toggle("hidden-note"); }
      });

      td.dataset.fret = String(f); /* I'm giving you a data attribute containing the fret index to support potential future logic */
      td.dataset.string = row.label; /* I'm giving you a data attribute containing the string label to support potential future logic */

      tr.appendChild(td); /* I'm giving you an append operation containing the prepared fret cell to place it into the row */
    });

    tbody.appendChild(tr); /* I'm giving you an append operation containing the finished string row to add it to the table body */
  });

  tbl.appendChild(tbody); /* I'm giving you an append operation containing the complete body to finalize the table structure */

  document.getElementById("reset").addEventListener("click", function(){ /* I'm giving you a reset-button listener containing a restore routine to unhide any notes; the callback works by selecting all hidden cells and removing the class that hides their text */
    tbl.querySelectorAll("td.hidden-note").forEach(function(td){ td.classList.remove("hidden-note"); }); /* I'm giving you a forEach callback containing each hidden cell to remove the hiding class; the callback works by iterating the node list and applying classList.remove */
  });
</script>
</body>
</html>
